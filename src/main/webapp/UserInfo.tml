<html t:type="layout" title="User Info"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
      xmlns:p="tapestry:parameter">
<t:if t:test="userExists">
    <t:zone t:id="addZone">
        <t:delegate to="edit"/>
    </t:zone>
    <t:block id="edit">
        <t:form t:id="fUpdateUsersData" t:zone="addZone">
            <p>
                <t:label for="tfUsername">username:</t:label>
                <t:textfield t:id="tfUsername" t:value="user.username"/>
            </p>

            <p>
                <t:label for="tfFirstName">first name:</t:label>
                <t:textfield t:id="tfFirstName" t:value="user.firstName"/>
            </p>

            <p>
                <t:label for="tfLastName">last name:</t:label>
                <t:textfield t:id="tfLastName" t:value="user.lastName"/>
            </p>

            <p>
                <t:label for="tfEmail">email:</t:label>
                <t:textfield t:id="tfEmail" t:value="user.password"/>
            </p>

            <p>
                type: ${user.getType()}
            </p>

            <p>
                <t:label for="tfOldPassword">Old password:</t:label>
                <t:textfield t:id="tfOldPassword" t:value="oldPassword"/>
            </p>
            <p>
                <t:label for="tfNewPassword">New password:</t:label>
                <t:textfield t:id="tfNewPassword" t:value="newPassword"/>
            </p>
            <p>
                <t:label for="tfAgainNewPassword">New password*:</t:label>
                <t:textfield t:id="tfAgainNewPassword" t:value="retypedNewPassword"/>
            </p>
            <p>
                <input type="submit" name="bUpdate" id="bUpdate" value="Update"/>
            </p>
        </t:form>
        <p>
            ${message}
        </p>
    </t:block>
    <t:block id="congratulations">
        <p>
            You have successfully updated your data!
        </p>
    </t:block>
</t:if>
</html>